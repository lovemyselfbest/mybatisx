node('master') {

    def appName = 'mybatisx'


  
    def workspace = sh (
                            script: 'cd ${WORKSPACE}@script/ && pwd', //script: 'cd ${WORKSPACE}@script/order/orderdata-host/ && pwd',
                            returnStdout: true
                       ).trim()


    dir(workspace){


        stage('Git'){
             git  url:'https://github.com/mybatisx/mybatisx.git',branch:'1.0.0'
            }



        stage('Clean'){
                           sh "./gradlew :clean"
                        }

        stage('Jar'){
            
            sh "./gradlew :upload"
        }




    }

}
